var cwp_namespace={php_settings_var:"categoryPosts",widget_class:".category-widget-cont",template_panel_prefix:".categoryposts-data-panel-",open_panels:{},template_change_timer:null,clickHandler:function(e){jQuery(e).toggleClass("open").next().stop().slideToggle();var t=jQuery(e).data("panel"),n=jQuery(e).parent().parent().parent().parent().parent().attr("id"),a={};this.open_panels.hasOwnProperty(n)&&(a=this.open_panels[n]),a.hasOwnProperty(t)?delete a[t]:a[t]=!0,this.open_panels[n]=a},toggleCatSelection:function(e){var t=jQuery(e).find("option:selected").attr("value"),n=e.parentElement.parentElement.parentElement.parentElement;"0"==t?(jQuery(n).find(".categoryPosts-title_link").hide(),jQuery(n).find(".categoryPosts-title_link_url").show(),jQuery(n).find(".categoryPosts-no_cat_childs").hide()):(jQuery(n).find(".categoryPosts-title_link").show(),jQuery(n).find(".categoryPosts-title_link_url").hide(),jQuery(n).find(".categoryPosts-no_cat_childs").show())},toggleDisableFontStyles:function(e){var t=jQuery(e).find("input").attr("checked"),n=e.parentElement.parentElement;"checked"==t?jQuery(n).find(".categoryposts-data-panel-general-disable-font-styles").hide():jQuery(n).find(".categoryposts-data-panel-general-disable-font-styles").show()},toggleDateFormat:function(e){var t=jQuery(e).val(),n=e.parentElement.parentElement;"other"!=t?jQuery(n).find(".categoryPosts-date_format").hide():jQuery(n).find(".categoryPosts-date_format").show()},toggleDateRange:function(e){var t=jQuery(e).val(),n=e.parentElement.parentElement;switch(jQuery(n).find(".categoryPosts-date-range p").hide(),jQuery(n).find(".categoryPosts-date-range").show(),t){case"off":jQuery(n).find(".categoryPosts-date-range").hide();break;case"days_ago":jQuery(n).find(".categoryPosts-days_ago").show();break;case"between_dates":jQuery(n).find(".categoryPosts-start_date").show(),jQuery(n).find(".categoryPosts-end_date").show()}},toggleTemplateHelp:function(e,t){t.preventDefault();var n=e.parentElement.parentElement.parentElement.parentElement;jQuery(n).find(".cat-post-template-help").toggle("slow")},toggleAssignedCategoriesTop:function(e){var t=jQuery(e).find("input").attr("checked"),n=e.parentElement.parentElement;"checked"==t?jQuery(n).find(".categoryposts-details-panel-assigned-cat-top").show():jQuery(n).find(".categoryposts-details-panel-assigned-cat-top").hide()},toggleHideTitle:function(e){var t=jQuery(e).attr("checked"),n=e.parentElement.parentElement.parentElement;"checked"!=t?jQuery(n).find(".categoryposts-data-panel-title-settings").show():jQuery(n).find(".categoryposts-data-panel-title-settings").hide()},toggleLoadMore:function(e){var t=jQuery(e).attr("checked"),n=e.parentElement.parentElement.parentElement;"checked"!=t?jQuery(n).find(".loadmore-settings").hide():jQuery(n).find(".loadmore-settings").show()},selectPremadeTemplate:function(e){var t=e.parentElement.parentElement.parentElement,n=e.parentElement.parentElement,a=jQuery(n).find("select"),o="%title%";switch(value=a.val(),value){case"title":o="%title%";break;case"title_excerpt":o="%title%\n\n%excerpt%";break;case"title_thumb":o="%title%\n\n%thumb%";break;case"title_thum_excerpt":o="%title%\n\n%thumb%\n%excerpt%";break;case"everything":o="%title%\n\n",o+="%date%\n\n",o+="%thumb%\n",o+='<span class="dashicons dashicons-admin-comments"></span> %commentnum% ',o+='<span class="dashicons dashicons-admin-users"></span> %author%\n',o+="%excerpt%\n",o+="Categories: %category% ",o+='<span class="dashicons dashicons-tag"></span> %post_tag%'}var i=jQuery(t).find("textarea");i.val(o),i.trigger("input"),i.trigger("change")},autoCloseOpenPanels:function(e){if(tiptoppress[this.php_settings_var].accordion&&!jQuery(e).hasClass("open")){var t=jQuery(e).parent().find(".open");this.clickHandler(t)}},defaultThumbnailSelection:function(e,t,n){var a=wp.media({title:t,multiple:!1,library:{type:"image"},button:{text:n}});return a.on("close",function(){var t=a.state().get("selection").toJSON();if(1==t.length){var n=t[0],o='<img src="'+n.url+'" ';o+='width="60" ',o+='height="60" ',o+="/>",jQuery(e).parent().prev().find(".default_thumb_img").html(o),jQuery(e).parent().find(".cwp_default_thumb_remove").show(),jQuery(e).parent().prev().find(".default_thumb_id").val(n.id).change()}}),a.open(),!1},removeDefaultThumbnailSelection:function(e){return jQuery(e).parent().prev().find(".default_thumb_img").html(cwp_default_thumb_selection.none),jQuery(e).hide(),jQuery(e).parent().prev().find(".default_thumb_id").val(0).change(),!1},templateChange:function(e){function t(){var t=jQuery(e).val(),n=tiptoppress[this.php_settings_var].template_tags,a=jQuery(e.parentElement.parentElement.parentElement.parentElement);for(var o in n)-1!==t.indexOf(n[o])?a.find(this.template_panel_prefix+n[o]).show():a.find(this.template_panel_prefix+n[o]).hide()}null!=this.template_change_timer&&clearTimeout(this.template_change_timer),this.template_change_timer=setTimeout(t.bind(this),250)}};jQuery(document).ready(function(){function e(){jQuery(".cwp_default_thumb_select").off("click").on("click",function(){cwp_namespace.defaultThumbnailSelection(this,cwp_default_thumb_selection.frame_title,cwp_default_thumb_selection.button_title)}),jQuery(document).on("change",t+" .categoryposts-data-panel-filter-cat",function(){cwp_namespace.toggleCatSelection(this)}),jQuery(".cwp_default_thumb_remove").off("click").on("click",function(){cwp_namespace.removeDefaultThumbnailSelection(this)}),jQuery(t+"-assigned_categories").off("click").on("click",function(){cwp_namespace.toggleAssignedCategoriesTop(this)}),jQuery(document).on("click",t+" .categoryPosts-hide_title input",function(){cwp_namespace.toggleHideTitle(this)}),jQuery(document).on("click",t+" .categoryPosts-enable_loadmore input",function(){cwp_namespace.toggleLoadMore(this)}),jQuery(document).on("change",t+" .categoryPosts-preset_date_format select",function(){cwp_namespace.toggleDateFormat(this)}),jQuery(document).on("change",t+" .categoryPosts-date_range select",function(){cwp_namespace.toggleDateRange(this)}),jQuery(document).off("click",t+" a.toggle-template-help").on("click",t+" a.toggle-template-help",function(e){cwp_namespace.toggleTemplateHelp(this,e)}),jQuery(document).on("click",t+" .cat-post-premade_templates button",function(){cwp_namespace.selectPremadeTemplate(this)}),jQuery(document).on("change",t+" .cat-post-premade_templates select",function(e){e.preventDefault(),e.stopPropagation()}),jQuery(document).on("input",t+" .categoryPosts-template textarea",function(){cwp_namespace.templateChange(this)})}var t=".category-widget-cont";jQuery(".category-widget-cont h4").click(function(){cwp_namespace.autoCloseOpenPanels(this),cwp_namespace.clickHandler(this)}),jQuery(document).on("widget-added widget-updated panelsopen",function(t,n){jQuery(".category-widget-cont h4").off("click").on("click",function(){cwp_namespace.autoCloseOpenPanels(this),cwp_namespace.clickHandler(this)}),jQuery(".cwp_default_thumb_select").off("click").on("click",function(){cwp_namespace.defaultThumbnailSelection(this,cwp_default_thumb_selection.frame_title,cwp_default_thumb_selection.button_title)}),jQuery(".cwp_default_thumb_remove").off("click").on("click",function(){cwp_namespace.removeDefaultThumbnailSelection(this)});var a=jQuery(n).attr("id");if(cwp_namespace.open_panels.hasOwnProperty(a)){var o=cwp_namespace.open_panels[a];for(var i in o)jQuery(n).find("[data-panel="+i+"]").toggleClass("open").next().stop().show()}e()}),e()});